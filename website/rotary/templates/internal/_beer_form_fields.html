<!-- _beer_form_fields.html -->
<script src="{{ url_for('static', filename='js/choices.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/beer_form.js') }}"></script>
<style>
/* Choices container styled like Bulma input */
.choices {
  width: 100%;
}

/* Placeholder */
.choices__placeholder {
  color: #b5b5b5;  /* Bulma placeholder */
  font-style: italic;
}

/* Single select */
.choices[data-type*="select-one"] .choices__inner {
}

/* Multi-select tags styled like Bulma tags */
.choices__item--selectable {
  background-color: #3273dc;   /* Bulma primary */
  color: #fff;
  border-radius: 4px;
  padding: 0.25em 0.75em;
  margin: 0.25em;
  font-size: 0.875em;
}

/* Hide selected Item, it is already shown in <select> */
.choices__list--single{
  display: none;
} 

/* Remove button (x) inside tag */
.choices__button {
  border: none;
  background: none;
  color: #fff;
  margin-left: 0.5em;
  cursor: pointer;
}

/* Dropdown menu styled like Bulma */
.choices__list--dropdown {
  display: none;
  box-shadow: 0 4px 8px rgba(10, 10, 10, 0.1);
}

.choices.is-open .choices__list--dropdown {
  display: block;
  position: absolute;
  box-shadow: 0 4px 8px rgba(10, 10, 10, 0.1);
}

/* Highlighted dropdown item */
.choices__list--dropdown .choices__item--selectable.is-highlighted {
  background-color: #f5f5f5;
  color: #363636;
}
</style>
<table class="table is-narrow has-background">
  <tr>
    <td>Name: </td>
    <td>
      <input class="input" type="text" name="name" value="{{ beer.name if beer else '' }}" placeholder="Slots Guld" required>
    </td>
  </tr>
  <tr>
    <td>Category: </td>
    <td>
      <div class="select">
        <select name="category_id" required>
          {% for category in categories %}
          <option value="{{ category.id }}" {% if beer and category.id == beer.category_id %}selected{% endif %}>
            {{ category_names[category.id] }}
          </option>
          {% endfor %}
        </select>
      </div>
    </td>
  </tr>
  <tr>
    <td>Style: </td>
    <td>
      <input class="input" type="text" name="style" value="{{ beer.style if beer else '' }}" placeholder="Export" required>
      <small>
        <a href="https://untappd.com" target="_blank">Use untappd's definitions</a>
      </small>
    </td>
  </tr>
  <tr>
    <td>ABV: </td>
    <td>
      <input class="input" type="text" name="abv" value="{{ beer.abv if beer else '' }}" placeholder="5.9" pattern="^\d+(\.\d{1,2})?$" title="Please enter a valid decimal number" required>
    </td>
  </tr>
  <tr>
    <td>Volume: </td>
    <td>
      <input class="input" type="text" name="volume" value="{{ beer.volume_ml if beer else '' }}" placeholder="330" pattern="^\d+$" title="Please enter a valid integer" required>
    </td>
  </tr>
  <tr>
    <td>Price: </td>
    <td>
      <input class="input" type="text" name="price" value="{{ beer.price_kr if beer else '' }}" placeholder="10" pattern="^\d+$" title="Please enter a valid integer" required>
    </td>
  </tr>
  <tr>
    <td>Country: </td>
    <td>
      <div class="select">
        <select id="country-select" name="country_code" required>
          {% for country in countries %}
          <option value="{{ country.numeric }}" {% if beer and country.numeric == beer.country_iso_3166_id %}selected{% endif %}>
            {{ country.name }}
          </option>
          {% endfor %}
        </select>
      </div>
    </td>
  </tr>
  <tr>
    <td>Available? </td>
    <td>
      <input type="checkbox" name="available" {% if beer and beer.available %}checked{% endif %}>
    </td>
  </tr>
</table>
